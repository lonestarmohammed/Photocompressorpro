<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <!-- Open Graph Meta Tags -->
<meta property="og:title" content="Photo Compressor Pro - Free Online Image Compression Tool">
<meta property="og:description" content="Compress your images online quickly and for free. Save space without losing quality.">
<meta property="og:image" content="https://www.photocompressorpro.com/assets/og-image.png">
<meta property="og:url" content="https://www.photocompressorpro.com/">
<meta property="og:type" content="website">

<!-- Twitter Card (optional but good for SEO) -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Photo Compressor Pro - Free Online Image Compression Tool">
<meta name="twitter:description" content="Compress your images online quickly and for free. Save space without losing quality.">
<meta name="twitter:image" content="https://www.photocompressorpro.com/assets/og-image.png">
  <title>Image to PDF ‚Äì PhotoCompressorPro</title>
  <meta name="description" content="Combine multiple JPG/PNG images into a single PDF. Free, fast, private‚Äîeverything runs in your browser.">
  <title>Image to PDF Converter - Free Online Tool</title>
<meta name="description" content="Convert your images (JPG, PNG, WebP) to PDF in seconds with our free Image to PDF tool. Secure, fast, and easy to use. No software installation needed.">
  <link rel="icon" href="../assets/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../style.css">

  <style>
    :root{--card:#fff;--muted:#6b7280;--ring:rgba(31,111,255,.22)}
    main{max-width:960px;margin:34px auto;padding:0 16px}
    .card{background:var(--card);border-radius:16px;box-shadow:0 8px 28px rgba(0,0,0,.06);padding:24px}
    .hero{text-align:center;margin-bottom:14px}
    .hero h1{margin:0 0 6px;font-size:1.8rem}
    .hero p{margin:0;color:var(--muted)}
    .controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin:14px 0}
    .btn{appearance:none;border:0;border-radius:12px;cursor:pointer;background:linear-gradient(90deg,#1f6fff,#00c2ff);color:#fff;padding:12px 18px;font-weight:700;box-shadow:0 10px 22px var(--ring)}
    .btn.secondary{background:#eef2ff;color:#1f3a8a;box-shadow:none}
    label.opt{display:inline-flex;align-items:center;gap:6px}
    select, input[type="number"]{padding:10px 12px;border:1px solid #d1d5db;border-radius:10px}
    .hint{font-size:.9rem;color:var(--muted);margin-top:6px}
    .preview{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));margin-top:12px}
    .thumb{border:1px solid rgba(15,23,42,.08);border-radius:12px;padding:8px;background:#fff;text-align:center}
    .thumb img{max-width:100%;border-radius:8px}
    .meta{font-size:.85rem;color:var(--muted);margin-top:6px}
    /* keep the input accessible but out of layout */
    #fileInput{position:absolute;left:-9999px;width:1px;height:1px}
  </style>

  <!-- jsPDF (UMD build) -->
  <script defer src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="nav-wrap">
      <a class="brand" href="../index.html">Photo<span class="accent">Compressor</span>Pro</a>
      <nav>
        <a href="../index.html">Home</a>
        <a href="../blog.html">Blog</a>
        <a href="../contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="hero">
        <h1>Image ‚Üí PDF</h1>
        <p>Convert multiple images (JPG, PNG, WebP) into a single PDF instantly. Everything runs in your browser‚Äîno uploads, no watermarks. Perfect for homework scans, receipts, IDs, and sharing documents. Choose your images, reorder if needed, then create your PDF with one click.</p>
<ul>
  <li><strong>Fast & private:</strong> Processing happens locally in your browser.</li>
  <li><strong>Multiple formats:</strong> JPG, PNG, WebP supported.</li>
  <li><strong>Multi-page PDFs:</strong> Combine several photos into one file.</li>
</ul>

      <div class="controls">
        <button id="pickBtn" class="btn secondary">üìÅ Choose Images</button>
        <input id="fileInput" type="file" accept="image/*" multiple>

        <label class="opt">Page
          <select id="pageSize">
            <option value="a4|p" selected>A4 Portrait</option>
            <option value="a4|l">A4 Landscape</option>
            <option value="letter|p">Letter Portrait</option>
            <option value="letter|l">Letter Landscape</option>
          </select>
        </label>

        <label class="opt">Margin (mm)
          <input id="margin" type="number" min="0" max="40" value="10">
        </label>

        <label class="opt">Fit
          <select id="fitMode">
            <option value="contain" selected>Contain (no crop)</option>
            <option value="cover">Cover (fill page)</option>
            <option value="width">Fit width</option>
            <option value="height">Fit height</option>
          </select>
        </label>

        <button id="makePdf" class="btn">Create PDF</button>
      </div>

      <div class="hint">Tip: images are added in the same order you select them. Use ‚ÄúChoose Images‚Äù again to add more before creating the PDF.</div>

      <div id="preview" class="preview"></div>
    </section>
  </main>

  <footer style="text-align:center;color:#6b7280;margin:30px 0 24px;font-size:.9rem">
    ¬© 2025 PhotoCompressorPro.com ‚Ä¢ <a href="../privacy.html">Privacy</a> ‚Ä¢ <a href="../about.html">About</a> ‚Ä¢ <a href="../contact.html">Contact</a>
  </footer>

  <script>
    // ---------- Elements ----------
    const $ = s=>document.querySelector(s);
    const pickBtn   = $('#pickBtn');
    const fileInput = $('#fileInput');
    const pageSizeEl= $('#pageSize');
    const marginEl  = $('#margin');
    const fitEl     = $('#fitMode');
    const preview   = $('#preview');
    const btn       = $('#makePdf');

    // Open picker (reliable across iOS/Android/Desktop)
    pickBtn.addEventListener('click', ()=> fileInput.click());

    // Preview thumbs
    function showPreview(files){
      preview.innerHTML = '';
      [...files].forEach(f=>{
        const url = URL.createObjectURL(f);
        const div = document.createElement('div');
        div.className = 'thumb';
        div.innerHTML = `<img src="${url}" alt=""><div class="meta">${f.name}</div>`;
        preview.appendChild(div);
      });
    }
    fileInput.addEventListener('change', ()=> showPreview(fileInput.files));

    // Placement math (contain, cover, width, height)
    function calcPlacement(imgW, imgH, pageW, pageH, margin, mode){
      const w = pageW - margin*2, h = pageH - margin*2;
      const rImg = imgW / imgH, rBox = w / h;
      let outW, outH;
      if (mode === 'width'){ outW = w; outH = outW / rImg; }
      else if (mode === 'height'){ outH = h; outW = outH * rImg; }
      else if (mode === 'cover'){
        if (rImg > rBox){ outH = h; outW = outH * rImg; }
        else { outW = w; outH = outW / rImg; }
      } else { // contain
        if (rImg > rBox){ outW = w; outH = outW / rImg; }
        else { outH = h; outW = outH * rImg; }
      }
      const x = margin + (w - outW)/2;
      const y = margin + (h - outH)/2;
      return {x,y,w:outW,h:outH};
    }

    // iOS-safe: read file as DataURL
    const readAsDataURL = f => new Promise((res, rej) => {
      const r = new FileReader();
      r.onload = e => res(e.target.result);
      r.onerror = rej;
      r.readAsDataURL(f);
    });

    // iOS-safe save (blob + fallback open)
    function savePdfBlob(doc, filename='images.pdf'){
      const blob = doc.output('blob');
      const url  = URL.createObjectURL(blob);
      const a    = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();

      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
      setTimeout(()=>{
        if (isIOS) { try { window.open(url, '_blank'); } catch(_){} }
        setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 1500);
      }, 0);
    }

    // Build PDF
    btn.addEventListener('click', async ()=>{
      const files = [...(fileInput.files||[])];
      if (!files.length){ alert('Please choose at least one image.'); return; }
      btn.disabled = true; btn.textContent = 'Building‚Ä¶';

      const [{ jsPDF }] = [window.jspdf || {}];
      if (!jsPDF){ alert('Failed to load PDF library.'); btn.disabled=false; btn.textContent='Create PDF'; return; }

      const [size, orient] = pageSizeEl.value.split('|');
      const doc = new jsPDF({
        format: size,
        orientation: (orient==='p'?'portrait':'landscape'),
        unit: 'mm',
        compress: true
      });

      const pageW = doc.internal.pageSize.getWidth();
      const pageH = doc.internal.pageSize.getHeight();
      const margin = parseInt(marginEl.value,10) || 10;
      const mode = fitEl.value;

      for (let i=0;i<files.length;i++){
        const f = files[i];
        const dataURL = await readAsDataURL(f); // iOS friendly
        const img = new Image();
        await new Promise((res, rej)=>{ img.onload=()=>res(); img.onerror=rej; img.src = dataURL; });

        const {x,y,w,h} = calcPlacement(
          img.naturalWidth||img.width,
          img.naturalHeight||img.height,
          pageW, pageH, margin, mode
        );

        if (i>0) doc.addPage();
        const fmt = (/\.(png)$/i.test(f.name) || (f.type||'').includes('png')) ? 'PNG' : 'JPEG';
        doc.addImage(dataURL, fmt, x, y, w, h, undefined, 'FAST');
      }

      savePdfBlob(doc, 'images.pdf');
      btn.disabled = false; btn.textContent = 'Create PDF';
    });
  </script>
</body>
</html>
